\documentclass[11pt,a4paper]{article}

\input{preamble}

\begin{document}

\def\contador{Lesson 1}
\input{title}

\section{Basic properties of the integers}

In this lesson and onwards,   $\Z$ denotes  the set of integers and  $\Z^{+}$  the set of positive integers.

\begin{defi}
Let $a,b\in \Z$, with $a\neq 0$. We say  $a$ is a \textbf{divisor} of $b$ if there is an integer $c$ such that $a\cdot c=b$. In this case, we write $a\mid b.$ 
If $a$ does not divide $b$, we write $a\nmid b$.
\end{defi}

Note the statement \(a\mid b\) is equivalent to \textit{\(b\) is a multiple of \(a\)}.

\begin{defi}
    Let $a,b\in \Z\setminus\{0\}$.
    The \textbf{greatest common divisor of $a$ and $b$}, denoted \((a,b)\), is the  largest positive integer \(d\) such that 
    \begin{enumerate}
        \item $d\mid a$ and $d\mid b.$
        \item If $e\mid a$ and $e\mid b$ then $e\mid d.$
    \end{enumerate}
    If  $(a,b)=1$, we say  $a$ and $b$ are \textbf{coprime} or \textbf{relatively prime}.
\end{defi}

\begin{que}
    Why does $(a,b)$ always exist for $a,b\in \Z\setminus\{0\}$?
\end{que}



\begin{eje}
    \begin{enumerate}[label=(\roman*)]
        \item Prove the greatest common divisor of two integers is indeed unique.
        \item Define  least common multiple.
    \end{enumerate}
    
\end{eje}



\begin{teo}[Division algorithm]
    If \(a,b\in \Z\setminus\{0\}\), 
    there are unique \(q,r\in Z\)
    such that 
    \[a= qb +r \qand 0\leq r < |b|.\]
    We call \(q\) the quotient and \(r\) the remainder.
\end{teo}

\begin{proof}
    
\end{proof}



\paragraph{Euclidean Algorithm.} This is an efficient method to compute the gcd of any  two integers.
It is based on the division algorithm.\footnote{Keep in mind that, despite the name, the \textit{division algorithm} is a theorem whereas the \textit{euclidean algorithm} is a procedure.}


If \(a\) and \(b\) are nonzero integers, then by the division algorithm we get \(q,r\in \Z\) such that \(a= qb+r\).
Let \(q_0=q\) and \(r_0=r\).
By applying the division algorithm again with \(q_0\) and \(r_0\) we obtain a new quotient \(q_1\)   and a new remainder \(r_1\).
The idea of this procedure is to continue applying the division algorithm until we reach a zero remainder. From one step to the next,  the divisor becomes the dividend and the remainder the divisor, as follows:
\begin{equation}\label{eqtn:sequence.euclidean.algorithm}
\begin{aligned}
    a & =q_0 b+r_0 \\
    b & =q_1 r_0+r_1 \\
    r_0 & =q_2 r_1+r_2 \\
    r_1 & =q_3 r_2+r_3 \\
    &\;\; \vdots \\
    r_{n-2} & =q_n r_{n-1}+r_n \\
    r_{n-1} & =q_{n+1} r_n
\end{aligned}
\end{equation}


\begin{que}
    Why the Euclidean algorithm always terminates? In other words,
    why we always get a zero remainder at the end of the Euclidean algorithm? 
    Keep in mind the condition \(0\leq r < |b|\) in the division algorithm.
\end{que}

As a consequence of the Euclidean algorithm,
the greatest common divisor of two integers can be written as a linear combination of those integers. This can be done by backward substitution in \eqref{eqtn:sequence.euclidean.algorithm}.

\begin{teo}[BÃ©zout's identity]
    Let $a$ and $b$ be integers with $d=(a,b)$. Then there exist integers $x$ and $y$ such that $a x+b y=d$. 
\end{teo}

\begin{eje}
    Compute \((1761, 1567)\) and write this integer as a linear combination of \(1761\) and \(1567\).
\end{eje}

\begin{sol} By the Euclidean algorithm,
   \begin{align*}
    1761 &= 1\cdot 1567 + 194\\
    1567 &= 8\cdot194 + 15\\
    194  &= 12\cdot 15 + 14\\
    15   &= 1\cdot 14 + 1 \\
    14   &= 14\cdot 1 + 0.
   \end{align*}
   From the next to last line we get \((1761,1567) = 1\).
\end{sol}

\begin{defi}
    An integer \(p\) is \textbf{prime} iff 
    \begin{enumerate}[label=(\roman*)]
        \item \(p>1\), and
        \item the only positive divisors of \(p\) are \(p\) and \(1\).
    \end{enumerate}
    A \textbf{composite} integer is an integer greater than \(1\) that is not prime.
\end{defi}

Thus, every positive integer is composite, prime, or the unit 1.

\begin{rem}\label{rmk:gcd.of.prime.and.integer}
    If $p$ is a prime and $b \in \mathbb{Z}\setminus \{0\}$ then
\[
(p, b)= \begin{cases}p & \text { if } p \mid b, \\ 1 & \text { else.}\end{cases}
\]
Prove this claim.
\end{rem}

\begin{prop}
    Let \(I\subseteq \Z\) be such that 
    \begin{enumerate}[label=(\roman*)]
        \item\label{lab:i.exercise.ideal.of.Z} \(0\in I\),
        \item\label{lab:ii.exercise.ideal.of.Z} if  \(a,b\in I\), then \(a-b\in I\), 
        \item\label{lab:iii.exercise.ideal.of.Z} if \(a\in I\) and \(q\in I\), then  \(aq\subseteq I\).
    \end{enumerate}
    Then, there is some nonnegative integer \(d\in I\) such that  \[I = \left\{ dk: k \in \Z \right\}.\]
\end{prop}

\begin{rem}
    If \(A\subseteq \Z\) and \(n\in \Z\), we denote 
    \(nA = \left\{n a : a\in A \right\}\).
    If \(A=\Z\), then \((n) = n\Z\).
    Thus, this result states that \(I=(d)\) for some \(d\in I\).
\end{rem}

\begin{proof}
    Condition \ref{lab:i.exercise.ideal.of.Z} states \(I\neq \varnothing\).
   If \(I = \left\{ 0 \right\}\), take \(d=0\).
   Suppose \(I\neq \left\{ 0 \right\}\)  and \(a\in I\). 
   By \ref{lab:ii.exercise.ideal.of.Z}, 
   if \(a\in I\), then \(-a\in I\), so \(I\) contains both positive and negative integers.
   Since \(I\cap \Z^+\neq \varnothing\), the Well Ordering Principle (W.O.P.) implies there is a smallest positive integer in \(I\).
    Take \(d\) as this  integer.
    By \ref{lab:iii.exercise.ideal.of.Z}, we have \((d)\subseteq I\).
    Let's see the other inclusion.
    If \(a\in I\), then by the division algorithm, \(a=qd+r\) for some \(q,r\in \Z\) with \(0\leq r < d\).
    By \ref{lab:ii.exercise.ideal.of.Z}, \(r=a-qd\in I\).
    However, \(d\)  is the smallest positive integer contained in \(I\).
    Since \(0\leq r <d\), the only possibility for this inequality to be true is when  \(r=0\).
    Therefore \(a=qd\).
    It follows \(I =  (d)\), and the proof is complete.
\end{proof}


\begin{teo}[Euclid's lemma]
    Let \(a,b\in \Z\).
    If \(p\) is prime and \(p\mid ab\), then \(p\mid a\) or \(p\mid b\).
\end{teo}

\begin{proof}
    Suppose \(p\) is prime and \(p\mid ab\). We have to prove that \(p\mid a\) or \(p\mid b\). However, this is equivalent to \[p\nmid a\implies p\mid b.\]
    Thus, suppose also \(p\nmid a\).
    Then \((p,a) = 1\) by Remark \ref{rmk:gcd.of.prime.and.integer}.
    By the division algorithm, there are \(x,y\in\Z\) such that \(1=xp+ya\), so \(b=xpb + yab\).
    Because \(p\mid ab\), there is \(c\in \Z\) such that \(ab=cp\).
    Thus \(b=xpb + ycp = (xb+yc)p\), i.e., \(b\) is a multiple of \(p\).
    In other words \(p\mid b\), as desired. 
    The proof is complete.
\end{proof}

\begin{cor}
    Let \(a\in \Z\).
    If \(p\) is  prime and  \(p\mid a^n\) for some \(n\in\Z^+\), then \(p\mid a\).
\end{cor}

\begin{eje}
    Let \(a_1 a_2 \cdots a_n\in \Z\).
    Prove, by induction, that if \(p\) is prime and \(p\mid a_1 a_2 \cdots a_n\), then there is \(i\in \{1,\ldots,n\}\) such that \(p\mid a_i\), i.e., \(p\) must divide at least one integer in the product.
\end{eje}

The converse of Euclid's lemma is also true.

\begin{prop}
    Let \(p>1\).
    Suppose
    \[\forall a,b\in \Z  :\quad p\mid ab\implies p\mid a \text{  or  } p\mid b.\]
    Then \(p\) is prime.
\end{prop}

\begin{proof}
    Assume, for the sake of contradiction, that \(p\) is not prime.
    Then \(p\) is composite, which means \(p=ab\) for some \(a,b\in \left\{ 2,\ldots, p-1 \right\}\).
    Since \(p\mid ab\), the hypothesis implies \(p\mid a\) or \(p\mid b\).
    However, both cases are impossible because \(p\) is greater than \(a\) and \(b\).
    This contradiction proves \(p\) is prime.
\end{proof}


\begin{prop}
    Let \(a,b,c\in \Z\).
    Suppose
    \begin{enumerate}[label=(\roman*)]
        \item \((a,c) = 1\), and
        \item \(c\mid ab\).
    \end{enumerate}
    Then \(c\mid b\).
\end{prop}


\begin{proof}
    By (ii), \(ab=cd\) for some \(d\in\Z\).
    Using (i), write \(1 = ax+cy\) for some \(x,y\in \Z\). Multiplying by \(b\) we get 
    \[b = abx + cby = cdx + cby = (dx + by)c.\]
    Thus \(c\mid b\).
\end{proof}



\begin{defi}
    Let \(a,b\in \Z\) with \(b\neq 0\). The rational number  \(\dfrac{a}{b}    \) is in \textbf{lowest terms} iff \((a,b) = 1\).
\end{defi}

\begin{lem}
    Every nonzero rational number can be written as the quotient of two integer  in lowest terms.
\end{lem}

\begin{proof}
    
\end{proof}

\begin{prop}
    \(\sqrt{2}\) is irrational.
\end{prop}

\begin{proof}
    Suppose \(\sqrt{2}\) is rational. 
    Then \(\sqrt{2}=a/b\) for some \(a,b\in \Z\) in lowest terms.
    Write \(\sqrt{2} b = a\) to get \(2b^2 = a^2\).
    Hence \(2\mid a^2\),
    whence \(2\mid a\) by Euclid's lemma, meaning  \(a=2k\) for some \(k\in\Z\).
    By substitution, \(2b^2 = 4k^2\), and so \(b^2= 2k^2\).
    As before, this implies  \(b\) is even.
    Therefore,  both \(a\) and \(b\) share \(2\) as a common factor. 
    However, this  contradicts \((a,b) = 1\).
    This shows our initial assumption was false, meaning \(\sqrt{2}\) is irrational.
\end{proof}


\begin{teo}[Fundamental Theorem of Arithmetic]
   For every integer $n>1$, there are unique distinct primes $p_1, \ldots, p_k $ and unique positive integers $a_1, \ldots, a_k $ such that
\[
n=p_1^{a_1} p_2^{a_2} \cdots p_k^{a_k}.
\] 
Moreover, this factorization is unique up to reordering.\footnote{ This means that the product  can be rearranged in any  different order, but these primes and their powers are always the same.}
\end{teo}

\begin{proof}
\begin{enumerate}[left=2cm]
    \item[(Existence)] By (strong) induction on $n$. Lets us denote the set of prime numbers by \(\mathbb{P}\) Define
\[
A=\{n \in \Z^+ \mid \exists p_1, \ldots, p_k \in \mathbb{P}, \exists a_1, \ldots, a_k \in \Z^+: n=p_1^{a_1} p_2^{a_2} \cdots p_k^{a_k}\} .
\]

For $n=2$, it is clear that $n \in A$ as $n=2^1$ and 2 is prime. Now, fix $m \in \Z^+$ and assume that $2, \ldots, m \in A$. Lets see that $m+1 \in A$. There are two cases. Either $m+1$ is prime or it is not.
If $m+1$ is prime, there is nothing to show.
If $m+1$ is not prime, then it is composite. Thus, there are $m_1, m_2 \in \Z^+$ such that $m+1=m_1 m_2$. But, given that $m_1, m_2 \in\{2, \ldots, m\}$, it follows that $m_1, m_2 \in A$, by the (inductive) hypothesis. Hence $m+1$ can be expressed as the product of prime numbers, i.e., $m+1 \in A$.

By the principle of mathematical induction, $n \in A$ for every $n \geq 2$.

\item[(Uniqueness)] Suppose an integer $n \geq 2$ has two  prime decompositions, e.g.,
\begin{equation}\label{eqtn:fta.uniqueness}
p_1^{a_1} \cdots p_k^{a_k}=n=q_1^{b_1} \cdots q_l^{b_l} .
\end{equation}
where $p_i, q_j \in \mathbb{P}$ and $a_i, b_j \in \Z^+$ for $i \in [k]$ and $j \in [l]$. We prove first that the prime numbers on the left are the same as those on the right.
Let $i_0 \in [k]$. Since $p_{i_0}$ appears at least once in $p_1^{a_1} \cdots p_k^{a_k}$, we have  $p_{i_0} \mid p_1^{b_1} \cdots p_k^{b_k}$.
Thus,
\(
p_{i_0} \mid q_1^{b_1} \cdots q_1^{b_1} .
\)
By Euclid's lemma, 
there is some  $j_0 \in [l]$ such that  $p_{i_0} \mid q_{j_0}^{b_{j_0}}$., whence  $p_{i_0} \mid q_{j_0}$. But $q_{j 0}$ is prime, so it can only be divided by 1 or by itself. Since $p_{i_0} \neq 1, p_{i_0}=q_{i_0}$.
Since $i_0 \in [k]$ was arbitrary, we deduce that
\[
\forall i \in [k], \exists j \in J: p_i=q_j.
\]
This shows that to every prime on the left of \eqref{eqtn:fta.uniqueness} there corresponds a prime on the right.
In an entirely anlogous manner, it follows that to every prime on the right of \eqref{eqtn:fta.uniqueness} there corresponds a prime on the left.
Therefore, \(k=l\).
Now we can write 
\[
p_1^{a_1} \cdots p_k^{a_k}=p_1^{b_1} \cdots p_k^{b_k} .
\]
The proof that the  exponents are equal is left as an \textit{easy} exercise to the reader.
% Suppose, f.s.c., that there is $i \in [k]$ such that $a_i \neq b_i$. Thus, either $a_i<b_i$ or $b_i<a_i$.
% (I) If $a_i<b_i$, then $p_i^{a_i}<p_i^{b_i}$. So, $p_i^{a_i-b_i}<1$ and further
% \[
% p_i^{b_i} \nmid p_1^{a_1} \cdots p_k^{a_k}, \quad p_i^{b_i} \mid p_1^{b_1} \cdots p_k^{b_k} .
% \]

% This is a contradiction to (4).

% (II) If $b_i<a_i$, then $p_i^{b_i}<p_i^{a_i}$. So, $p_i^{b_i-a_i}<1$ and further
% \[
% p_i^{a_i} \mid p_1^{a_1} \cdots p_k^{a_k}, \quad p_i^{a_i} \nmid p_1^{b_1} \cdots p_k^{b_k} .
% \]

% This is a contradiction to (4). (Roughly speaking, when diving the right hand side by $p_i^{a_i}$, there aren't enough $p_i^{b_i}$ to cancell.)
% In any case we get a contradiction. Thereby, the assumption is false. That is, $a_i=b_i$ for every $i \in [k]$. Therefore, both decompositions are, in fact, the same. We have proved that every natural number $n \geq 2$ has a unique prime factorization.
\end{enumerate}
The proof is complete.
\end{proof}

The following function  computes the amount of smaller positive integers that are coprime to a given positive integer.
\begin{defi}%[Euler's totient function \(\varphi\)]
    Euler's totient function is the map  \(\varphi \colon \Z^+\to \Z\) defined by 
    \[\varphi(n) = |\left\{ a\leq n : (a,n) = 1 \right\}|.\]
\end{defi}

\paragraph{Properties.} 

\begin{enumerate}[label=(\roman*)]
    \item \(\varphi(p) = p-1\) if \(p\) is prime 
    \item \(\varphi(p^k) = p^k - p^{k-1} = p^{k-1}(p-1)\) for any prime \(p\) and any \(k\in \Z^+\)
    \item \(\varphi(ab) = \varphi(a)\varphi(b) = \) if \((a,b) = 1\)
    \item \(\varphi(n) = \varphi(p_1^{a_1})\cdots\varphi(p_k^{a_k})\) if \(n > 1\) has the prime factorization \(p_1^{a_1}\cdots p_k^{a_k}\)
\end{enumerate}

Note that \[\varphi(n)=\big|\{a \leq n \mid(a, n)=1\}\big|\]

\begin{exa}
    \(\varphi(12) = 4\)
\end{exa}

\begin{eje}
    Compute \(\varphi(30)\).
\end{eje}

\end{document}
